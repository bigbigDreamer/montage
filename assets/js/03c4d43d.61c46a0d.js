"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[674],{6647:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>f,contentTitle:()=>N,default:()=>C,frontMatter:()=>g,metadata:()=>h,toc:()=>w});var a=t(7626),l=t(9231),r=t(4852),i=t(264),o=t(7921),p=t(6372),s=t.n(p);function d(){return d=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},d.apply(this,arguments)}function m(){return d.apply(this,arguments)}console.log(111);const u=(0,l.forwardRef)(((n,e)=>{var{className:t,style:a}=n,r=function(n,e){if(null==n)return{};var t,a,l={},r=Object.keys(n);for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&(l[t]=n[t]);return l}(n,["className","style"]);const p=(0,l.useRef)({}),d=(0,l.useRef)(null),u=s()("montage-react-waline-client_container",t);return(0,l.useEffect)((()=>(p.current=(0,o.S1)(m({},r,{el:d.current})),()=>{var n;return null==(n=p.current)||null==n.destroy?void 0:n.destroy()})),[]),(0,l.useImperativeHandle)(e,(()=>({update:n=>{var e;return null==(e=p.current)||null==e.update?void 0:e.update(m({},n))}}))),(0,i.jsx)("div",{ref:d,className:u,style:a})})),c=()=>{const n=(0,l.useRef)(null);return(0,i.jsx)(u,{ref:n,serverURL:"https://waline.bigdreamer.cc"})};var k=t(2270);const g={},N="React-Waline-Client",h={unversionedId:"components/react-waline-client/index",id:"components/react-waline-client/index",title:"React-Waline-Client",description:"Waline \u8bc4\u8bba\u5ba2\u6237\u7aef React \u7248\u672c\u3002",source:"@site/docs/components/react-waline-client/index.mdx",sourceDirName:"components/react-waline-client",slug:"/components/react-waline-client/",permalink:"/components/react-waline-client/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/components/react-waline-client/index.mdx",tags:[],version:"current",frontMatter:{},sidebar:"components",previous:{title:"React-Lazy-Load-Image",permalink:"/components/react-lazy-load-image/"}},f={},w=[{value:"Usage",id:"usage",level:2},{value:"\u4f7f\u7528\u4e4b\u524d",id:"\u4f7f\u7528\u4e4b\u524d",level:4},{value:"\u4ee3\u7801\u6f14\u793a",id:"\u4ee3\u7801\u6f14\u793a",level:2},{value:"API",id:"api",level:2},{value:"FAQ",id:"faq",level:2}],b={toc:w};function C(n){let{components:e,...t}=n;return(0,r.kt)("wrapper",(0,a.Z)({},b,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-waline-client"},"React-Waline-Client"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Waline")," \u8bc4\u8bba\u5ba2\u6237\u7aef ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," \u7248\u672c\u3002"),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm i @montagejs/react-waline-client --save\n")),(0,r.kt)("h4",{id:"\u4f7f\u7528\u4e4b\u524d"},"\u4f7f\u7528\u4e4b\u524d"),(0,r.kt)("p",null,"\u4f7f\u7528\u4e4b\u524d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5148",(0,r.kt)("a",{parentName:"p",href:"https://waline.js.org/guide/get-started.html"},"\u5feb\u901f\u4e0a\u624b"),"\u4e00\u4e0b\u670d\u52a1\u7aef\u90e8\u7f72\u6d41\u7a0b\uff0c\u62e5\u6709\u81ea\u5df1\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"waline")," \u670d\u52a1\u3002"),(0,r.kt)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),(0,r.kt)(k.Z,{mdxType:"BrowserOnly"},(()=>(0,r.kt)(c,{mdxType:"ReactWalineClientDemo"}))),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("p",null,"\u4e3b\u8981\u53c2\u6570\u914d\u7f6e\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"serverURL")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"waline")," \u670d\u52a1\u5730\u5740"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"path")),(0,r.kt)("td",{parentName:"tr",align:null},"\u9875\u9762\u8def\u7531",(0,r.kt)("inlineCode",{parentName:"td"},"path")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"window.location.pathname")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"className")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"waline")," ",(0,r.kt)("inlineCode",{parentName:"td"},"container")," \u7684\u5bf9\u8bdd\u7c7b\u540d"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"style")),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u76f4\u63a5\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"td"},"waline")," ",(0,r.kt)("inlineCode",{parentName:"td"},"container")," \u7684",(0,r.kt)("em",{parentName:"td"},"\u5185\u8054\u6837\u5f0f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"CSSProperties")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"ref")),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u7528\u4e8e\u7ec4\u4ef6\u5916\u90e8\u5bb9\u5668\uff0c\u5bf9\u8bdd\u66f4\u65b0\u7ec4\u4ef6\u5185\u90e8\u914d\u7f6e(",(0,r.kt)("em",{parentName:"td"},"\u4e0d\u9700\u8981\u5237\u65b0\u7ec4\u4ef6"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#CRefProps"},(0,r.kt)("inlineCode",{parentName:"a"},"CRefProps"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-")),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"CRefProps")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export type CRefProps = {\n    /* update waline instance props */\n    update: WalineInstance['update'];\n};\n")),(0,r.kt)("p",null,"\u5176\u4f59\u53c2\u6570\u914d\u7f6e\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"type Props = {\n\n    /**\n     * \u5f53\u524d _\u6587\u7ae0\u9875_ \u8def\u5f84\uff0c\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7684 _\u6587\u7ae0\u9875_ \uff0c\u4ee5\u4fdd\u8bc1\u6b63\u786e\u8bfb\u53d6\u8be5 _\u6587\u7ae0\u9875_ \u4e0b\u7684\u8bc4\u8bba\u5217\u8868\n     *\n     * \u4f60\u53ef\u4ee5\u5c06\u5176\u8bbe\u7f6e\u4e3a `window.location.pathname`\n     *\n     * Article path id. Used to distinguish different _article pages_ to ensure loading the correct comment list under the _article page_.\n     *\n     * You can set it to `window.location.pathname`\n     */\n    path: string;\n    /**\n     * \u8bc4\u8bba\u8005\u76f8\u5173\u5c5e\u6027\n     *\n     * `Meta` \u53ef\u9009\u503c: `'nick'`, `'mail'`, `'link'`\n     *\n     * Reviewer attributes.\n     *\n     * Optional values for `Meta`: `'nick'`, `'mail'`, `'link'`\n     *\n     * @default ['nick', 'mail', 'link']\n     */\n    meta?: WalineMeta[];\n    /**\n     * \u8bbe\u7f6e**\u5fc5\u586b\u9879**\uff0c\u9ed8\u8ba4\u6635\u79f0\u4e3a\u533f\u540d\n     *\n     * Set required fields, default anonymous with nickname\n     *\n     * @default []\n     */\n    requiredMeta?: WalineMeta[];\n    /**\n     * \u8bc4\u8bba\u5b57\u6570\u9650\u5236\u3002\u586b\u5165\u5355\u4e2a\u6570\u5b57\u65f6\u4e3a\u6700\u5927\u5b57\u6570\u9650\u5236\n     *\n     * @more \u8bbe\u7f6e\u4e3a `0` \u65f6\u65e0\u9650\u5236\n     *\n     * Comment word s limit. When a single number is filled in, it 's the maximum number of comment words.\n     *\n     * @more No limit when set to `0`.\n     *\n     * @default 0\n     */\n    wordLimit?: number | [number, number];\n    /**\n     * \u8bc4\u8bba\u5217\u8868\u5206\u9875\uff0c\u6bcf\u9875\u6761\u6570\n     *\n     * number of pages per page\n     *\n     * @default 10\n     */\n    pageSize?: number;\n    /**\n     * Waline \u663e\u793a\u8bed\u8a00\n     *\n     * \u53ef\u9009\u503c:\n     *\n     * - `'zh'`\n     * - `'zh-cn'`\n     * - `'zh-CN'`\n     * - `'zh-tw'`\n     * - `'zh-TW'`\n     * - `'en'`\n     * - `'en-US'`\n     * - `'en-us'`\n     * - `'jp'`\n     * - `'jp-jp'`\n     * - `'jp-JP'`\n     * - `'pt-br'`\n     * - `'pt-BR'`\n     * - `'ru'`\n     * - `'ru-ru'`\n     * - `'ru-RU'`\n     *\n     * Display language for waline\n     *\n     * Optional value:\n     *\n     * - `'zh'`\n     * - `'zh-cn'`\n     * - `'zh-CN'`\n     * - `'zh-tw'`\n     * - `'zh-TW'`\n     * - `'en'`\n     * - `'en-US'`\n     * - `'en-us'`\n     * - `'jp'`\n     * - `'jp-jp'`\n     * - `'jp-JP'`\n     * - `'pt-br'`\n     * - `'pt-BR'`\n     * - `'ru'`\n     * - `'ru-ru'`\n     * - `'ru-RU'`\n     *\n     * @default 'zh-CN'\n     */\n    lang?: string;\n    /**\n     * \u81ea\u5b9a\u4e49 waline \u8bed\u8a00\u663e\u793a\n     *\n     * @see [\u81ea\u5b9a\u4e49\u8bed\u8a00](https://waline.js.org/client/i18n.html)\n     *\n     * Custom display language in waline\n     *\n     * @see [I18n](https://waline.js.org/en/client/i18n.html)\n     */\n    locale?: Partial<WalineLocale>;\n    /**\n     * \u662f\u5426\u542f\u7528\u6697\u9ed1\u6a21\u5f0f\u9002\u914d\n     *\n     * @more \u8bbe\u7f6e `'auto'` \u4f1a\u6839\u636e\u8bbe\u5907\u6697\u9ed1\u6a21\u5f0f\u81ea\u9002\u5e94\u3002\u586b\u5165 CSS \u9009\u62e9\u5668\u4f1a\u5728\u5bf9\u5e94\u9009\u62e9\u5668\u751f\u6548\u65f6\u542f\u7528\u591c\u95f4\u6a21\u5f0f\u3002\n     *\n     * Whether to enable darkmode support\n     *\n     * @more Setting `'auto'` will display darkmode due to device settings. Filling in CSS selector will enable darkmode only when the selector match waline ancestor nodes.\n     */\n    dark?: string | boolean;\n    /**\n     * \u8bbe\u7f6e\u8868\u60c5\u5305\n     *\n     * Set Emojis\n     *\n     * @default ['//unpkg.com/@waline/emojis@1.0.1/weibo']\n     */\n    emoji?: (string | WalineEmojiInfo)[] | false;\n    /**\n     * \u8bbe\u7f6e\u641c\u7d22\u529f\u80fd\n     *\n     * Customize Search feature\n     */\n    search?: WalineSearchOptions | false;\n    /**\n     * \u4ee3\u7801\u9ad8\u4eae\n     *\n     * Code highlighting\n     */\n    highlighter?: WalineHighlighter | false;\n    /**\n     * \u81ea\u5b9a\u4e49\u56fe\u7247\u4e0a\u4f20\u65b9\u6cd5\uff0c\u65b9\u4fbf\u66f4\u597d\u7684\u5b58\u50a8\u56fe\u7247\n     *\n     * \u65b9\u6cd5\u6267\u884c\u65f6\u4f1a\u5c06\u56fe\u7247\u5bf9\u8c61\u4f20\u5165\u3002\n     *\n     * Custom image upload callback to manage picture by yourself.\n     *\n     * We will pass a picture file object when execute it.\n     */\n    imageUploader?: WalineImageUploader | false;\n    /**\n     * \u81ea\u5b9a\u4e49\u6570\u5b66\u516c\u5f0f\u5904\u7406\u65b9\u6cd5\uff0c\u7528\u4e8e\u9884\u89c8\u3002\n     *\n     * Custom math formula parse callback for preview.\n     */\n    texRenderer?: WalineTexRenderer | false;\n    /**\n     *\n     * \u767b\u5f55\u6a21\u5f0f\u72b6\u6001\uff0c\u53ef\u9009\u503c:\n     *\n     * - `'enable'`: \u542f\u7528\u767b\u5f55 (\u9ed8\u8ba4)\n     * - `'disable'`: \u7981\u7528\u767b\u5f55\uff0c\u7528\u6237\u53ea\u80fd\u586b\u5199\u4fe1\u606f\u8bc4\u8bba\n     * - `'force'`: \u5f3a\u5236\u767b\u5f55\uff0c\u7528\u6237\u5fc5\u987b\u6ce8\u518c\u5e76\u767b\u5f55\u624d\u53ef\u53d1\u5e03\u8bc4\u8bba\n     *\n     * Login mode status, optional values:\n     *\n     * - `'enable'`: enable login (default)\n     * - `'disable'`: Login is disabled, users should fill in infomation to comment\n     * - `'force'`: Forced login, users must login to comment\n     *\n     * @default 'enable'\n     */\n    login?: 'enable' | 'disable' | 'force';\n    /**\n     * \u662f\u5426\u5728\u9875\u811a\u5c55\u793a\u7248\u6743\u4fe1\u606f\n     *\n     * \u4e3a\u4e86\u652f\u6301 Waline\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f60\u5f00\u542f\u5b83\n     *\n     * Whether show copyright in footer\n     *\n     * We strongly recommended you to keep it on to support waline\n     *\n     * @default true\n     */\n    copyright?: boolean;\n    /**\n     * \u8bc4\u8bba\u6570\u7edf\u8ba1\n     *\n     * Comment number support\n     *\n     * @default false\n     */\n    comment?: string | boolean;\n    /**\n     * \u9875\u9762\u8bbf\u95ee\u91cf\u7edf\u8ba1\n     *\n     * Pageview number support\n     *\n     * @default false\n     */\n    pageview?: string | boolean;\n}\n")),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4e3a\u4ec0\u4e48\u66f4\u65b0\u5185\u90e8\u914d\u7f6e\u4f1a\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"li"},"ref")," \u66b4\u9732\uff0c\u800c\u4e0d\u662f\u5185\u90e8\u66f4\u65b0\u5462\uff1f")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u7b54\uff1a\u56e0\u4e3a\u7b14\u8005\u8ba4\u4e3a\uff0c\u7ec4\u4ef6\u7684\u8bbe\u8ba1\u5e94\u8be5\u5c3d\u53ef\u80fd\u7684\u7eaf\u7cb9\uff0c\u66f4\u65b0\u54ea\u4e9b\u914d\u7f6e\u4ea4\u7ed9\u5916\u90e8\u53bb\u4e3b\u52a8\u66f4\u65b0\uff0c\u5f00\u4e00\u4e2a",(0,r.kt)("strong",{parentName:"p"},"\u83ca\u82b1"),"\u7ed9\u5916\u90e8\u7528\uff0c\u4f1a\u5c3d\u53ef\u80fd\u7684\u7075\u6d3b\uff0c\u51cf\u5c11\u5916\u90e8\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"state")," \u58f0\u660e\u3002")))}C.isMDXComponent=!0}}]);